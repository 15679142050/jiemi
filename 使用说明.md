# 中国移动云盘自动签到脚本使用说明

## 功能特点

- ✅ 自动签到
- ✅ 自动完成各种任务（云盘任务、139邮箱任务等）
- ✅ 戳一戳功能
- ✅ 云朵大作战游戏
- ✅ 抽奖功能
- ✅ 果园任务（可选）
- ✅ 支持多账号
- ✅ 多种通知方式
- ✅ 自动兑换奖励（可选）

## 环境要求

- Python 3.7+
- 安装依赖：`pip install -r requirements.txt`

## 配置说明

### 1. 环境变量配置

**必需配置：**
- `ydyp_ck`: 账号Cookie信息，格式：`Basic XXXXXXXX#手机号#token`
  - 多个账号用 `@` 或 `&` 或换行符分割
  - 示例：`Basic ABC123#13812345678#token123@Basic DEF456#13987654321#token456`

**可选配置（通知相关）：**
- `SCKEY`: Server酱推送key
- `BARK_URL`: Bark推送URL
- `TG_BOT_TOKEN`: Telegram机器人token
- `TG_USER_ID`: Telegram用户ID
- `PUSHPLUS_TOKEN`: PushPlus推送token
- `WECOM_WEBHOOK`: 企业微信webhook地址
- `DINGTALK_WEBHOOK`: 钉钉webhook地址

### 2. 脚本配置

在 `移动云盘优化版.py` 文件中可以修改以下配置：

```python
is_redeem = False  # 是否开启自动兑换奖励
redeem_reward_description = ""  # 要兑换的奖品名称
```

## 获取Cookie方法

1. 使用手机浏览器或抓包工具
2. 登录中国移动云盘网页版
3. 在请求头中找到 `Authorization` 字段（Basic开头的）
4. 获取手机号和token信息
5. 按格式组合：`Basic XXXXXXXX#手机号#token`

## 运行方式

### 手动运行
```bash
python 移动云盘优化版.py
```

### 定时运行（Cron）
```bash
# 每天早上8点执行
0 8 * * * cd /path/to/script && python 移动云盘优化版.py
```

### 青龙面板
1. 将脚本上传到青龙面板
2. 在环境变量中配置 `ydyp_ck`
3. 添加定时任务：`0 8 * * *`

## 文件说明

- `移动云盘优化版.py`: 主脚本文件
- `fn_print.py`: 日志输出模块
- `get_env.py`: 环境变量获取模块
- `sendNotify.py`: 通知发送模块
- `requirements.txt`: Python依赖文件
- `使用说明.md`: 本说明文件

## 注意事项

1. 请确保Cookie信息的准确性和有效性
2. 建议在测试环境先运行确认无误
3. 注意保护个人隐私信息
4. 遵守相关服务条款，合理使用脚本
5. 如遇到问题，检查网络连接和Cookie是否过期

## 常见问题

**Q: 提示"环境变量未设置"？**
A: 请检查是否正确设置了 `ydyp_ck` 环境变量

**Q: 提示"cookie可能失效"？**
A: 需要重新获取Cookie信息并更新环境变量

**Q: 任务执行失败？**
A: 检查网络连接，或稍后重试

**Q: 通知没有收到？**
A: 检查通知相关的环境变量是否配置正确